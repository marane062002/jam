<div class="kt-portlet__head">
	<div class="kt-portlet__head-label">
		<button *ngxPermissionsOnly="['canCreatePrestataireAo']"
			type="submit"
			_ngcontent-dkp-c41=""
			class="
				btn btn-success btn-md btn-tall btn-wide
				kt-font-bold kt-font-transform-u
			"
			(click)="ShowForm()"
		>
			<i _ngcontent-dkp-c41="" class="icon la la-floppy-o"></i>
			{{
				"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.AJOUTER_JOURNALE"
					| translate
			}}
		</button> 
	</div>
	<div *ngIf="Ajouter" class="espace_bloc">
		<form
			*ngxPermissionsOnly="['canCreatePrestataireAo']"
			class="kt-form"
			autocomplete="off"
			(submit)="AjouterJournale()"
		>
			<div class="row">
				<div class="col-lg-12 col-md-offset-2">
					<div class="kt-portlet portlet-3">
						<div class="kt-portlet__head">
							<div class="kt-portlet__head-label">
								<span class="kt-portlet__head-icon">
									<i class="flaticon2-size"></i>
								</span>
								<h3 class="kt-portlet__head-title">
									{{
										"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.AJOUTER_JOURNALE"
											| translate
									}}
								</h3>
							</div>
						</div>
						<div class="kt-portlet__body">
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<mat-form-field
											class="example-full-width"
										>
											<input
												matInput
												type="text"
												class="form-control"
												name="nomAr"
												placeholder="{{
													'PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_NOM_AR'
														| translate
												}} :"
												[(ngModel)]="journaleForm.nomAr"
												required
											/>
											<mat-icon matSuffix
												><i class="far fa-keyboard"></i
											></mat-icon>
										</mat-form-field>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<mat-form-field
											class="example-full-width"
										>
											<input
												matInput
												type="text"
												class="form-control"
												name="nomFr"
												placeholder="{{
													'PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_NOM_FR'
														| translate
												}} :"
												[(ngModel)]="
													journaleForm.nomFr
												"
												required
											/>
											<mat-icon matSuffix
												><i class="far fa-keyboard"></i
											></mat-icon>
										</mat-form-field>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<mat-form-field
											class="example-full-width"
										>
											<input
												matInput
												type="text"
												class="form-control"
												name="adresse"
												placeholder="{{
													'PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_ADRESSE'
														| translate
												}} :"
												[(ngModel)]="
													journaleForm.adresse
												"
												required
											/>
											<mat-icon matSuffix
												><i class="far fa-keyboard"></i
											></mat-icon>
										</mat-form-field>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<mat-form-field
											class="example-full-width"
										>
											<input
												matInput
												type="date"
												class="form-control"
												name="date"
												placeholder="{{
													'PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_DATE'
														| translate
												}} :"
												[(ngModel)]="journaleForm.date"
												required
											/>
										</mat-form-field>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!--Action Section :: begin-->
			<div class="kt-portlet__head">
				<div class="kt-portlet__head-label" align="right">
					<button
						type="submit"
						_ngcontent-dkp-c41=""
						class="
							btn btn-success btn-md btn-tall btn-wide
							kt-font-bold kt-font-transform-u
						"
					>
						<i
							_ngcontent-dkp-c41=""
							class="icon la la-floppy-o"
						></i>
						{{ "PAGES.GENERAL.SAVE" | translate }}
					</button>
					<button
						_ngcontent-dkp-c41=""
						class="
							btn btn-info btn-md btn-tall btn-wide
							kt-font-bold kt-font-transform-u
						"
						(click)="annuler()"
					>
						<i _ngcontent-dkp-c41="" class="icon la la-list"></i>
						{{ "PAGES.GENERAL.EXIT" | translate }}
					</button>
					<button
						_ngcontent-dkp-c41=""
						class="
							btn btn-secondary btn-md btn-tall btn-wide
							kt-font-bold kt-font-transform-u
						"
						type="reset"
					>
						<i _ngcontent-dlp-c41 class="la la-recycle"></i>
						{{ "PAGES.GENERAL.RESET" | translate }}
					</button>
				</div>
				<div class="espace_bloc"></div>
			</div>
			<!--Action Section :: end-->
		</form>
	</div>

	<div class="espace_bloc text text-success">
		<div class="kt-portlet__body">
			<div class="kt-portlet__body kt-portlet__body--fit">
				<div class="example-container mat-elevation-z8">
					<table
						matSort
						matSortActive="noteTotale"
						matSortDirection="desc"
						matSortDisableClear
						id="exportData"
						mat-table
						[dataSource]="dataSource"
						class="mat-elevation-z8"
						matSort
					>
						<ng-container matColumnDef="nom arabe">
							<th
								mat-header-cell
								*matHeaderCellDef
								mat-sort-header
							>
								{{
									"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_NOM_AR"
										| translate
								}}
							</th>
							<td mat-cell *matCellDef="let row">
								{{ row.nomAr ? row.nomAr : "-" }}
							</td>
						</ng-container>

						<ng-container matColumnDef="nom franÃ§ais">
							<th
								mat-header-cell
								*matHeaderCellDef
								mat-sort-header
							>
								{{
									"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_NOM_FR"
										| translate
								}}
							</th>
							<td mat-cell *matCellDef="let row">
								{{ row.nomFr ? row.nomFr : "-" }}
							</td>
						</ng-container>

						<ng-container matColumnDef="adresse">
							<th
								mat-header-cell
								*matHeaderCellDef
								mat-sort-header
							>
								{{
									"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_ADRESSE"
										| translate
								}}
							</th>
							<td mat-cell *matCellDef="let row">
								{{ row.adresse ? row.adresse : "-" }}
							</td>
						</ng-container>

						<ng-container matColumnDef="date">
							<th
								mat-header-cell
								*matHeaderCellDef
								mat-sort-header
							>
								{{
									"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.JOURNALE_DATE"
										| translate
								}}
							</th>
							<td mat-cell *matCellDef="let row">
								{{ row.date | date: "dd/MM/yyyy" }}
							</td>
						</ng-container>

						<ng-container matColumnDef="actions">
							<th mat-header-cell *matHeaderCellDef></th>
							<td mat-cell *matCellDef="let row">
								<button 
									type="button"
									(click)="imprimerJournale(row.id)"
									class="
										btn
										btn-sm
										btn-clean
										btn-icon
										btn-warning
										btn-icon-md
										btn_table_edit
									"
									matTooltip="{{
										'PAGES.GENERAL.PRINT' | translate
									}}"
								>
									<i class="icon la la-print"></i>
								</button>
								<button *ngxPermissionsOnly="['canCreatePrestataireAo']"
									type="button"
									(click)="editJournale(row.id)"
									class="
										btn
										btn-sm
										btn-clean
										btn-icon
										btn-success
										btn-icon-md
										btn_table_show
									"
									matTooltip="{{
										'PAGES.GENERAL.EDIT' | translate
									}}"
								>
									<i class="icon la la-edit"></i>
								</button>

								<button *ngxPermissionsOnly="['canCreatePrestataireAo']"
									type="button"
									(click)="deleteJournale(row.id)"
									class="
										btn
										btn-sm
										btn-clean
										btn-icon
										btn-danger
										btn-icon-md
										btn_table_delete
									"
									matTooltip="{{
										'PAGES.GENERAL.DELETE' | translate
									}}"
								>
									<i class="icon la la-trash"></i>
								</button>
							</td>
						</ng-container>

						<tr
							mat-header-row
							*matHeaderRowDef="displayedColumns"
						></tr>
						<tr
							mat-row
							*matRowDef="let row; columns: displayedColumns"
						></tr>
					</table>
					<!-- <div *ngIf="dataSize == 0 && isLoading == false" style="display: flex;justify-content: center;padding: 2%;color: orangered;">
						{{ 'PAGES.GENERAL.NO_RECORDS' | translate }}
					</div>-->
					<mat-card
						*ngIf="isLoading"
						style="
							display: flex;
							justify-content: center;
							align-items: center;
						"
					>
						<mat-progress-spinner
							color="primary"
							mode="indeterminate"
							diameter="50"
						>
						</mat-progress-spinner>
					</mat-card>
					<mat-paginator
						[length]="dataSize"
						[pageSize]="5"
						[pageIndex]="0"
						[pageSizeOptions]="[5, 10, 50]"
						showFirstLastButtons
					></mat-paginator>
				</div>
			</div>
		</div>
	</div>
</div>
