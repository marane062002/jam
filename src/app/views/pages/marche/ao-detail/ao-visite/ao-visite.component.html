<div class="kt-portlet__body">
    <div class="kt-portlet__head-toolbar">
        <div class="kt-portlet__head-wrapper">
            <div *ngxPermissionsOnly="['canCreateVisite']" class="kt-portlet__head-actions">
                &nbsp;
                <a *ngIf="showBtnAddVisite" href="javascript:; " (click)="openDialog()" class="btn btn-success btn-elevate btn-icon-sm">
                    <i class="la la-plus"></i> {{ 'PAGES.MARCHE.VISITE.TITRE_NEW' | translate }}
                </a>
            </div>
        </div>
    </div>
    <div class="espace_bloc"></div>
    <div *ngxPermissionsOnly="['accessToIndexVisite']" class="kt-portlet__body kt-portlet__body--fit">
        <div *ngIf="tabVisite" class="example-container mat-elevation-z8">
            <table id="exportData" mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
                <ng-container matColumnDef="dateVisite">
                    <th class="date-visite" mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{ 'PAGES.MARCHE.VISITE.DATE_VISITE' | translate }} </th>
                    <td class="date-visite" mat-cell *matCellDef="let row">
                        {{ (row[1] !== null) ? (row[1] | date: 'dd/MM/yyyy') : "-" }}</td>
                </ng-container>

                <ng-container matColumnDef="lieuVisite">
                    <th class="lieu" mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{ 'PAGES.MARCHE.VISITE.LIEU_VISITE' | translate }}</th>
                    <td class="lieu" mat-cell *matCellDef="let row"> {{row[2]?row[2]:"-"}} </td>
                </ng-container>

                <ng-container matColumnDef="division">
                    <th class="division" mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{ 'PAGES.MARCHE.VISITE.DIVISION' | translate }}</th>
                    <td class="division" mat-cell *matCellDef="let row">{{libelleDivision?libelleDivision:"-"}}</td>
                </ng-container>

                <ng-container matColumnDef="service">
                    <th class="service" mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{ 'PAGES.MARCHE.VISITE.SERVICE' | translate }}</th>
                    <td class="service" mat-cell *matCellDef="let row">{{libelleService?libelleService:"-"}}</td>
                </ng-container>

                <ng-container matColumnDef="personnel">
                    <th class="responsable" mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{ 'PAGES.MARCHE.VISITE.RESPONSABLE' | translate }}</th>
                    <td class="responsable" mat-cell *matCellDef="let row">{{libellePersonnel?libellePersonnel:"-"}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="heureVisite">
                    <th class="date-visite" mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{ 'PAGES.MARCHE.VISITE.HEURE_VISITE' | translate }}</th>
                    <td class="date-visite" mat-cell *matCellDef="let row">
                        {{ (row[1] !== null) ? (row[1] | date: 'HH:mm') : "-" }}</td>
                </ng-container>

                <ng-container matColumnDef="actions">
                    <th class="action" mat-header-cell *matHeaderCellDef></th>
                    <td class="action" mat-cell *matCellDef="let row">
                        <!-- <a href="javascript:;" (click)="showVisite(row[0])"
							class="btn btn-sm btn-clean btn-icon btn-success btn-icon-md btn_table_show"
							matTooltip="{{ 'PAGES.GENERAL.DETAILS' | translate }}"><i class="la la-search-plus"></i></a> -->
                        <a href="javascript:;" (click)="editVisiteFormDialog(row[0])" class="btn btn-sm btn-clean btn-icon btn-warning btn-icon-md btn_table_edit" matTooltip="{{ 'PAGES.GENERAL.EDIT' | translate }}"><i class="la la-edit"></i></a>
                        <a href="javascript:;" (click)="deleteVisite(row[0])" class="btn btn-sm btn-clean btn-icon btn-danger btn-icon-md btn_table_delete" matTooltip="{{ 'PAGES.GENERAL.DELETE' | translate }}"><i class="icon la la-trash"></i></a>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                </tr>
            </table>

        </div>
    </div>
</div>
<!-- end:: card section 2 -->
<hr>
<!--Action Section :: begin-->
<div class="kt-portlet__head-label" align="right">
    <button _ngcontent-dkp-c41="" class="btn btn-info btn-md" type="reset" (click)="back()">
		<i _ngcontent-dkp-c41="" class="icon la la-list"></i>
		{{ 'PAGES.GENERAL.EXIT' | translate }}</button>
</div>
<!--Action Section :: end-->