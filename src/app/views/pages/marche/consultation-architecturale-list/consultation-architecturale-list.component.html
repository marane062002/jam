<div class="row">
	<div class="col-lg-12 col-md-offset-2">
		<div class="kt-portlet portlet-3">
			<div class="kt-portlet__head">
				<div class="kt-portlet__head-label">
					<span class="kt-portlet__head-icon">
						<i class="flaticon2-size"></i>
					</span>
					<h3 class="kt-portlet__head-title">
						{{
							"PAGES.MARCHE.MARCHE.LISTE_CONSULTATION_ARCHITECTURALE"
								| translate
						}}
					</h3>
				</div>
				<div class="kt-portlet__head-toolbar">
					<div class="kt-portlet__head-wrapper">
						<div
							*ngxPermissionsOnly="['canCreateAo']"
							class="kt-portlet__head-actions"
						>
							&nbsp;
							<a
								href="javascript:; "
								(click)="addConsultation()"
								class="btn btn-success btn-elevate btn-icon-sm"
							>
								<i class="la la-plus"></i
								>{{
									"PAGES.MARCHE.MARCHE.AJOUTER_CONSULTATION_ARCHITECTURALE"
										| translate
								}}
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="kt-portlet__body">
				<div class="kt-portlet__body kt-portlet__body--fit">
					<div class="example-container mat-elevation-z8">
						<table
							id="exportData"
							mat-table
							[dataSource]="dataSource"
							class="mat-elevation-z8"
							matSort
						>
							<ng-container matColumnDef="numCA">
								<th 
									mat-header-cell
									*matHeaderCellDef
									mat-sort-header
								>
									{{
										"PAGES.MARCHE.MARCHE.CONSULTATION_ARCHITECTURALE_NUMERO"
											| translate
									}}
								</th>
								<td mat-cell *matCellDef="let row">
									{{ row.numCA ? row.numCA : "-" }}
								</td>
							</ng-container>

							<ng-container matColumnDef="objetFR">
								<th
									mat-header-cell
									*matHeaderCellDef
									mat-sort-header
								>
									{{
										"PAGES.MARCHE.MARCHE.CONSULTATION_ARCHITECTURALE_OBJET_FR"
											| translate
									}}
								</th>
								<td mat-cell *matCellDef="let row">
									{{ row.objetFR ? row.objetFR : "-" }}
								</td>
							</ng-container>

							<ng-container matColumnDef="objetAR">
								<th
									mat-header-cell
									*matHeaderCellDef
									mat-sort-header
								>
									{{
										"PAGES.MARCHE.MARCHE.CONSULTATION_ARCHITECTURALE_OBJET_AR"
											| translate
									}}
								</th>
								<td mat-cell *matCellDef="let row">
									{{ row.objetAR ? row.objetAR : "-" }}
								</td>
							</ng-container>

							<ng-container matColumnDef="budget">
								<th
									mat-header-cell
									*matHeaderCellDef
									mat-sort-header
								>
									{{
										"PAGES.MARCHE.MARCHE.CONSULTATION_ARCHITECTURALE_BUDGET"
											| translate
									}}
								</th>
								<td mat-cell *matCellDef="let row">
									{{ row.budget ? row.budget : "-" }}
								</td>
							</ng-container>

							<ng-container matColumnDef="type">
								<th
									mat-header-cell
									*matHeaderCellDef
									mat-sort-header
								>
									{{
										"PAGES.MARCHE.CONSULTATION_ARCHITECTURALE.TYPE"
											| translate
									}}
								</th>
								<td mat-cell *matCellDef="let row">
									{{ row.type ? row.type : "-" }}
								</td>
							</ng-container>

							<ng-container matColumnDef="loi">
								<th
									mat-header-cell
									*matHeaderCellDef
									mat-sort-header
								>
									{{
										"PAGES.MARCHE.MARCHE.CONSULTATION_ARCHITECTURALE_LOI"
											| translate
									}}
								</th>
								<td mat-cell *matCellDef="let row">
									{{ row.loi ? row.loi : "-" }}
								</td>
							</ng-container>

							<ng-container matColumnDef="actions">
								<th mat-header-cell *matHeaderCellDef></th>
								<td mat-cell *matCellDef="let row">
									<button
										type="button"
										(click)="detailsConsultation(row.id)"
										class="
											btn
											btn-sm
											btn-clean
											btn-icon
											btn-success
											btn-icon-md
											btn_table_show
										"
										matTooltip="{{
											'PAGES.GENERAL.DETAILS' | translate
										}}"
									>
										<i class="icon la la-search-plus"></i>
									</button>
									<button
										type="button"
										(click)="editConsultation(row.id)"
										class="
											btn
											btn-sm
											btn-clean
											btn-icon
											btn-warning
											btn-icon-md
											btn_table_edit
										"
										matTooltip="{{
											'PAGES.GENERAL.EDIT' | translate
										}}"
									>
										<i class="icon la la-edit"></i>
									</button>
									<button
										type="button"
										(click)="deleteConsultation(row.id)"
										class="
											btn
											btn-sm
											btn-clean
											btn-icon
											btn-danger
											btn-icon-md
											btn_table_delete
										"
										matTooltip="{{
											'PAGES.GENERAL.DELETE' | translate
										}}"
									>
										<i class="icon la la-trash"></i>
									</button>
								</td>
							</ng-container>

							<tr
								mat-header-row
								*matHeaderRowDef="displayedColumns"
							></tr>
							<tr
								mat-row
								*matRowDef="let row; columns: displayedColumns"
							></tr>
						</table>
						<!-- <div *ngIf="dataSize == 0 && isLoading == false" style="display: flex;justify-content: center;padding: 2%;color: orangered;">
                            {{ 'PAGES.GENERAL.NO_RECORDS' | translate }}
                        </div>-->
						<mat-card
							*ngIf="isLoading"
							style="
								display: flex;
								justify-content: center;
								align-items: center;
							"
						>
							<mat-progress-spinner
								color="primary"
								mode="indeterminate"
								diameter="50"
							>
							</mat-progress-spinner>
						</mat-card>
						<mat-paginator
							[length]="dataSize"
							[pageSize]="5"
							[pageIndex]="0"
							[pageSizeOptions]="[5, 10, 50]"
							showFirstLastButtons
						></mat-paginator>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
