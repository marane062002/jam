<div class="row">
    <div class="col-lg-12 col-md-offset-2">
        <div class="kt-portlet portlet-3">
            <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                    <span class="kt-portlet__head-icon">
						<i class="flaticon2-size"></i>
					</span>
                    <h3 class="kt-portlet__head-title">
                        {{ 'PAGES.MARCHE.PRESTATAIRE.TITRE_INDEX' | translate }}
                    </h3>
                </div>
                <div class="kt-portlet__head-toolbar">
                    <div class="kt-portlet__head-wrapper">
                        <div *ngxPermissionsOnly="['canCreateAo']" class="kt-portlet__head-actions">
                            &nbsp;
                            <a href="javascript:; " (click)="addPrestataire()" class="btn btn-success btn-elevate btn-icon-sm">
                                <i class="la la-plus"></i>{{ 'PAGES.MARCHE.PRESTATAIRE.TITRE_NEW' | translate }}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="kt-portlet__body">
                <div class="kt-portlet__body kt-portlet__body--fit">
                    <div class="example-header col-md-4">
                        <i class="flaticon-search-magnifier-interface-symbol text-dark"></i>&nbsp;
                        <mat-form-field>
                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="{{ 'PAGES.GENERAL.FILTER' | translate }}">
                        </mat-form-field>
                    </div>
                    <div class="example-container mat-elevation-z8">
                        <table id="exportData" mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>

                            <ng-container matColumnDef="rc">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                    {{ 'PAGES.MARCHE.PRESTATAIRE.RC' | translate }}
                                </th>
                                <td mat-cell *matCellDef="let row"> {{row.rc?row.rc:"-"}} </td>
                            </ng-container>

                            <ng-container matColumnDef="nom">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                    {{ 'PAGES.MARCHE.PRESTATAIRE.NOM_PRESTATAIRE' | translate }}
                                </th>
                                <td mat-cell *matCellDef="let row"> {{row.nom?row.nom:"-"}}</td>
                            </ng-container>

                            <ng-container matColumnDef="mail">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                    {{ 'PAGES.MARCHE.PRESTATAIRE.EMAIL' | translate }} </th>
                                <td mat-cell *matCellDef="let row"> {{row.mail?row.mail:"-"}} </td>
                            </ng-container>

                            <ng-container matColumnDef="tel">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                    {{ 'PAGES.MARCHE.PRESTATAIRE.TEL' | translate }} </th>
                                <td mat-cell *matCellDef="let row"> {{row.tel?row.tel:"-"}} </td>
                            </ng-container>

                            <ng-container matColumnDef="idFisc">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                    {{ 'PAGES.MARCHE.PRESTATAIRE.IF' | translate }}</th>
                                <td mat-cell *matCellDef="let row"> {{row.idFisc?row.idFisc:"-"}}
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="ice">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                    {{ 'PAGES.MARCHE.PRESTATAIRE.ICE' | translate }}</th>
                                <td mat-cell *matCellDef="let row"> {{row.ice?row.ice:"-"}} </td>
                            </ng-container>

                            <ng-container matColumnDef="actions">
                                <th mat-header-cell *matHeaderCellDef></th>
                                <td mat-cell *matCellDef="let row">
                                    <button type="button" (click)="detailsPrestataire(row.id)" class="btn btn-sm btn-clean btn-icon btn-success btn-icon-md btn_table_show" matTooltip="{{ 'PAGES.GENERAL.DETAILS' | translate }}"><i
											class="icon la la-search-plus"></i></button>
                                    <button type="button" (click)="editPrestataire(row.id)" class="btn btn-sm btn-clean btn-icon btn-warning btn-icon-md btn_table_edit" matTooltip="{{ 'PAGES.GENERAL.EDIT' | translate }}"><i
											class="icon la la-edit"></i></button>
                                    <button type="button" (click)="deletePrestataire(row.id)" class="btn btn-sm btn-clean btn-icon btn-danger btn-icon-md btn_table_delete" matTooltip="{{ 'PAGES.GENERAL.DELETE' | translate }}"><i
											class="icon la la-trash"></i></button>

                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                            </tr>
                        </table>
                        <div *ngIf="dataSize == 0 && isLoading == false" style="display: flex;justify-content: center;padding: 2%;color: orangered;">
                            {{ 'PAGES.GENERAL.NO_RECORDS' | translate }}
                        </div>
                        <mat-card *ngIf="isLoading" style="display: flex; justify-content: center; align-items: center">
                            <mat-progress-spinner color="primary" mode="indeterminate" diameter="50">
                            </mat-progress-spinner>
                        </mat-card>
                        <mat-paginator [length]="dataSize" [pageSize]="5" [pageIndex]="0" [pageSizeOptions]="[5,10,50]" showFirstLastButtons></mat-paginator>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>