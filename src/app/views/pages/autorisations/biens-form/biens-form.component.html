<!-- <form [formGroup]="myForm" class="kt-form" autocomplete="off" #form="ngForm" (submit)="onSubmitForm(form)"> -->
<form class="kt-form"    autocomplete="off"  [formGroup]="myGroup" >
	<div class="row">
		<div class="col-lg-12 col-md-offset-2">
			<div class="kt-portlet portlet-3">
				<div class="kt-portlet__head">
					<div class="kt-portlet__head-label">
						<span class="kt-portlet__head-icon">
							<i class="fas fa-archway"> </i>
						</span>
						<h3 class="kt-portlet__head-title">
							{{ 'PAGES.AUTORISATION.TITLE_ADD_BIEN_COMMUNAUX' | translate }}
						</h3>
					</div>
				</div>
				<div class="kt-portlet__body">
					<div class="row">
						<div class="col-md-3">
							<div class="form-group">
								<mat-form-field class="example-full-width">
									<input matInput type="text" class="form-control" name="prenompp"
									placeholder="{{ 'PAGES.AUTORISATION.NOM' | translate }} :"  formControlName="objetDemandeAutorisation" required >
									<mat-icon matSuffix><i class="far fa-keyboard"></i></mat-icon>
								</mat-form-field>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<mat-form-field class="example-full-width">
									<mat-select class="form-control" name="criticiterec"  formControlName="typeObjetReservation"  placeholder="نوع الممتلك">
										<mat-option *ngFor="let item of typeBien" [value]="item">
											{{item.typeObjetAutorisation}}</mat-option>
									</mat-select>
								</mat-form-field>
							</div>
						</div>
						<!-- <div class="col-md-3">
							<div class="form-group">
								<mat-form-field class="example-full-width">
									<input matInput type="text" class="form-control" name="canalReponseRec"
									placeholder="{{ 'PAGES.AUTORISATION.TYPE_BIEN' | translate }} :"   formControlName="typeObjetReservation" required>
									<mat-icon matSuffix><i class="far fa-keyboard"></i></mat-icon>
								</mat-form-field>
								
							</div>
						</div> -->
						<div class="col-md-3">
                            <div class="form-group" >
                                <mat-form-field class="example-full-width" >
                                    <mat-select class="form-control" formControlName="arrondissement" placeholder="{{ 'PAGES.AUTORISATION.ARRONDISSEMENT' | translate }} :">
                                            <mat-option [value]=null>---{{ 'PAGES.AUTORISATION.VIDE' | translate }}---</mat-option>
                                            <mat-option *ngFor="let arr of arrondissements" [value]="arr.id">
                                                    {{arr.libelle}}
                                            </mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="isControlHasError('arrondissement','required')">
                                            <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                                        </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
						<div class="col-md-3">
							<div class="form-group">
								<mat-form-field class="example-full-width">
									<input matInput type="text" class="form-control"  formControlName="adresse"
										name="cinpp" placeholder="{{ 'PAGES.AUTORISATION.ADRESSE' | translate }} :">
									<mat-icon matSuffix><i class="far fa-keyboard"></i></mat-icon>
								</mat-form-field>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<button class="btn btn-primary" type="button" (click)="addItem()"
									style="margin-right: 0px;"> <i class="la la-plus"></i> {{ 'PAGES.AUTORISATION.ADD_ESPACE' | translate }} </button>
								<form [formGroup]="myForm">
								<div formArrayName="arr" *ngFor="let a of myForm.get('arr')['controls']; let i = index">
									<div [formGroupName]="i" style="margin-bottom: 5px;">
										<div class="row">
											<div class="col-md-6">
												<div class="row">
													<div class="my-auto col-md-3">
														<label for="name">{{ 'PAGES.AUTORISATION.NAME_ESPACE' | translate }} :</label>
													</div>
													<div class="my-auto col-md-9">
														<input MatInput type="text" class="form-control" name="name"
															formControlName="espace">
													</div>
												</div>
											</div>
											<div class="my-auto col-md-1">
												<button class="btn btn-danger btn-icon" (click)="removeGroup(i)"><i
														class="fas fa-window-close"></i>
												</button>
											</div>
										</div>
									</div>
								</div>
							</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--Action Section :: begin-->
	<div class="kt-portlet__head">
		<div class="kt-portlet__head-label" align="right">
			<button type="submit" class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" (click)="onSubmit()">
				<i class="icon la la-floppy-o"></i>
				{{ 'PAGES.GENERAL.SAVE' | translate }}</button>
			<button _ngcontent-dkp-c41=""
				class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" type="reset">
				<i _ngcontent-dlp-c41 class="la la-recycle"></i>
				{{ 'PAGES.GENERAL.RESET' | translate }}</button>
			<button class="btn btn-info btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" type="reset"
				(click)="back()">
				<i _ngcontent-dkp-c41="" class="icon la la-list"></i>
				{{ 'PAGES.GENERAL.EXIT' | translate }}</button>
		</div>
		<div class="espace_bloc"></div>
	</div>
	<!--Action Section :: end-->
</form>
