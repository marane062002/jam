<!-- begin:: Content -->
<div class="kt-portlet portlet-1">
	<div class="kt-portlet__head kt-bg-portlet-1">
		<div class="kt-portlet__head-label">
			<span class="kt-portlet__head-icon">
				<i class="flaticon-search"></i>
			</span>
			<h3 class="kt-portlet__head-title kt-font-inverse-brand">
				{{ 'MENU.STATS.CONTROL.SEARCHE' | translate }}
			</h3>
		</div>
	</div>
	<div class="kt-portlet__body">
		<form novalidate [formGroup]="searchForm">
			<div class="row">



				   <!-- A -->
				   <div class="col-md-3">
                    <div class="form-group">
                        <div class="input-group date">
                            <mat-form-field class="example-full-width">
                                <input matInput class="form-control" [matDatepicker]="picker1" placeholder="{{ 'PAGES.ASSOCIATION.DATE_START' | translate }} :" formControlName="dateDebut">
                                <mat-datepicker-toggle matSuffix matSuffix [for]="picker1">
                                    <mat-icon matDatepickerToggleIcon><i class="fas fa-calendar-plus"></i>
                                    </mat-icon>
                                </mat-datepicker-toggle>
                                <mat-datepicker touchUi="true" #picker1></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                </div>

				   <!-- A -->
				   <div class="col-md-3">
                    <div class="form-group">
                        <div class="input-group date">
                            <mat-form-field class="example-full-width">
                                <input matInput class="form-control" [matDatepicker]="picker2" placeholder="{{ 'PAGES.ASSOCIATION.DATE_END' | translate }} :" formControlName="dateFin">
                                <mat-datepicker-toggle matSuffix matSuffix [for]="picker2">
                                    <mat-icon matDatepickerToggleIcon><i class="fas fa-calendar-plus"></i>
                                    </mat-icon>
                                </mat-datepicker-toggle>
                                <mat-datepicker touchUi="true" #picker2></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
				<div class="col-md-3">
                    <div class="form-group">
                          <mat-form-field class="example-full-width">
                            <mat-label>{{ 'PAGES.SUBVENTION.STATUT_PROJECT' | translate }} :</mat-label>
                            <mat-select class="form-control"   formControlName="statutProjet" multiple>
                              <mat-option value="1">{{ 'PAGES.SUBVENTION.EXUCUTE' | translate }}</mat-option>
                              <mat-option value="2"> {{ 'PAGES.SUBVENTION.EnCOURSEXUCUTE' | translate }} </mat-option>
                              <mat-option value="3">{{ 'PAGES.SUBVENTION.NONEXUCUTE' | translate }} </mat-option>
                            </mat-select>
                          </mat-form-field>
                    </div>
                </div>
				<!-- du -->

				
				

				<!-- du -->

			
				<!-- COMMUNE -->
			<!-- 	<div class="col-md-3">
					<div class="form-group">
						<mat-form-field class="example-full-width">
							<mat-select class="form-control" formControlName="type"
								placeholder="{{ 'PAGES.ASSOCIATION.TYPE_ACTIVITE' | translate }} :" multiple>
								<mat-option *ngFor="let type of types" [value]="type.id">
									{{type.libelle}}
								</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
				</div> -->

				<!-- TYPE -->
			<!-- 	<div class="col-md-3">
					<div class="form-group">
						<mat-form-field class="example-full-width">
							<mat-select class="form-control" formControlName="commune"
								placeholder="{{ 'PAGES.INTERVENTION_RAPIDE.ARRONDISSEMENT' | translate }} :" multiple>
								<mat-option *ngFor="let arr of arrondissements" [value]="arr.id">
									{{arr.libelle}}
								</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
				</div> -->

			</div>
		</form>
		<div class="row">
			<button [disabled]="searchForm.invalid" (click)="onSubmit()" class="btn btn-dark"><i
					class="flaticon-search-1"></i>{{ 'PAGES.GENERAL.FILTER' | translate }}
			</button>
		</div>
	</div>
</div>
<!-- end::row-content-top -->
<!-- start::row-content -->
<div class="row">
	<!-- start::dataTable -->
	<div class="col-lg-6">
		<div class="kt-portlet portlet-1">
			<div class="kt-portlet__head kt-bg-portlet-2">
				<div class="kt-portlet__head-label">
					<span class="kt-portlet__head-icon">
						<i class="flaticon-tabs"></i>
					</span>
					<h3 class="kt-portlet__head-title kt-font-inverse-brand">
						{{ 'PAGES.SUBVENTION.TITRE_INDEX' | translate }}
					</h3>
				</div>
				<div class="kt-portlet__head-toolbar">
					<div class="kt-portlet__head-wrapper">
						<div class="kt-portlet__head-actions">
							&nbsp;
							<a href="javascript:; " (click)="refresh()" class="btn btn-warning">
								<i class="flaticon-refresh"></i>
								{{ 'MENU.STATS.CONTROL.REFRESH' | translate }}
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="kt-portlet__body">
				<div class="row">
					<div class="col-md-12 show_port">
						<div class="kt-portlet">
							<mat-table id="ExampleTable" mat-table [dataSource]="dataSource" class="mat-elevation-z8"	matSort>
								<!-- type Column -->
								<ng-container matColumnDef="nbProject">
									<mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column">
										{{ 'PAGES.SUBVENTION.NBRPROJECT' | translate }}
									</mat-header-cell>
									<mat-cell *matCellDef="let row" class="mat-column">
										{{row.nbSubention}}</mat-cell>
								</ng-container>
								<!-- nbAssociation Column -->
								<ng-container matColumnDef="Statut">
									<mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column">
										{{ 'PAGES.SUBVENTION.STATUT_PROJECT' | translate }}
									</mat-header-cell>
									<mat-cell *matCellDef="let row" class="mat-column"> 
										<span *ngIf="row.satutProject==1">{{ 'PAGES.SUBVENTION.EXUCUTE' | translate }}</span>
										<span *ngIf="row.satutProject==2"> {{ 'PAGES.SUBVENTION.EnCOURSEXUCUTE' | translate }} </span>
										<span *ngIf="row.satutProject==3">{{ 'PAGES.SUBVENTION.NONEXUCUTE' | translate }} </span>
								
									</mat-cell>
								</ng-container>
								<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
								<mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
							</mat-table>
							<div *ngIf="sizeData == 0 && isLoading == false"
								style="display: flex;justify-content: center;padding: 2%;color: orangered;">
								{{ 'PAGES.GENERAL.NO_RECORDS' | translate }}
							</div>
							<mat-card *ngIf="isLoading"
								style="display: flex; justify-content: center; align-items: center">
								<mat-progress-spinner color="primary" mode="indeterminate" diameter="50">
								</mat-progress-spinner>
							</mat-card>
							<mat-paginator [length]="sizeData" [pageSize]="5" [pageIndex]="0"
								[pageSizeOptions]="[5,10,20]" showFirstLastButtons></mat-paginator>
							<hr>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end::dataTable -->
	<!-- begin :: statistiques -->
	<div class="col-lg-6">
		<div class="kt-portlet">
			<div class="kt-portlet__head kt-bg-portlet-5">
				<div class="kt-portlet__head-label">
					<span class="kt-portlet__head-icon">
						<i class="flaticon-graphic-2"></i>
					</span>
					<h3 class="kt-portlet__head-title">
						{{ 'MENU.STATS.PROJET_ASSOCIATION' | translate }}
					</h3>
				</div>
				<div class="kt-portlet__head-toolbar">
					<div class="kt-portlet__head-wrapper">
						<div class="kt-portlet__head-actions">
							&nbsp;
							<a href="javascript:; " (click)="downloadCanvas($event)"
								class="btn btn-primary btn-icon-sm">
								<i class="flaticon2-download"></i>
								{{ 'MENU.STATS.CONTROL.DOWLOAD_CHART' | translate }}
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="kt-portlet__body">
				<div class="row">
					<div class="col-md-12 show_port">
						<div class="col-md-12 show_port">
							<!-- begin::action radio -->
							<div class="row">
								<mat-radio-group name="partenariatAssociative" (change)="selectionChanged($event)">
									<mat-radio-button value="pie">
										<i class="flaticon2-pie-chart-1"></i>
									</mat-radio-button>
									<mat-radio-button value="doughnut">
										<i class="flaticon2-pie-chart-2"></i>
									</mat-radio-button>
									<mat-radio-button [checked]='true' value="bar">
										<i class="flaticon2-poll-symbol"></i>
									</mat-radio-button>
									<mat-radio-button value="line">
										<i class="flaticon2-analytics"></i>
									</mat-radio-button>
								</mat-radio-group>
							</div>
							<!-- end::action radio -->
							<!-- begin::chart -->
							<div Style="pointer-events: none;">
								<canvas id="canvas"></canvas>
							</div>
							<!-- end::chart -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- end:: row-content -->
<div class="row">
	<!-- start::dataTable -->
	<div class="col-lg-6">
		<div class="kt-portlet portlet-1">
			<div class="kt-portlet__head kt-bg-portlet-2">
				<div class="kt-portlet__head-label">
					<span class="kt-portlet__head-icon">
						<i class="flaticon-tabs"></i>
					</span>
					<h3 class="kt-portlet__head-title kt-font-inverse-brand">
						{{ 'PAGES.ASSOCIATION.TITRE_INDEX' | translate }}
					</h3>
				</div>
				<div class="kt-portlet__head-toolbar">
					<div class="kt-portlet__head-wrapper">
					</div>
				</div>
			</div>
			<div class="kt-portlet__body">
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<mat-form-field class="example-full-width">
								<mat-select class="form-control" formControlName="type" placeholder="{{ 'MENU.STATS.ass' | translate }} :"   	>
									<mat-option *ngFor="let ass of listAssocaition" [value]="ass.id" (onSelectionChange)="selectAssoication($event)">	{{ass.nom}}
									</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end::dataTable -->
	<!-- begin :: statistiques -->
	<div class="col-lg-6">
		<div class="kt-portlet portlet-1">
			<div class="kt-portlet__head kt-bg-portlet-2">
				<div class="kt-portlet__head-label">
					<span class="kt-portlet__head-icon">
						<i class="flaticon-tabs"></i>
					</span>
					<h3 class="kt-portlet__head-title kt-font-inverse-brand">
						{{ 'PAGES.SUBVENTION.TITRE_INDEX' | translate }}
					</h3>
				</div>
				<div class="kt-portlet__head-toolbar">
					<div class="kt-portlet__head-wrapper">
						<div class="kt-portlet__head-actions">
							&nbsp;
						<!-- 	<a href="javascript:; " (click)="refresh()" class="btn btn-warning">
								<i class="flaticon-refresh"></i>
								{{ 'MENU.STATS.CONTROL.REFRESH' | translate }}
							</a> -->
						</div>
					</div>
				</div>
			</div>
			<div class="kt-portlet__body">
				<div class="row">
					<div class="col-md-12 show_port">
						<div class="kt-portlet">
							<mat-table id="ExampleTable" mat-table [dataSource]="dataSourceProjet" class="mat-elevation-z8"	matSort>
								<!-- type Column -->
								<ng-container matColumnDef="nomProjet">
									<mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column">
										{{ 'PAGES.SUBVENTION.NOM_PROJEt' | translate }}
									</mat-header-cell>
									<mat-cell *matCellDef="let row" class="mat-column">
										{{row.nomProjet}}</mat-cell>
								</ng-container>
								<!-- nbAssociation Column -->
								<ng-container matColumnDef="responsableProjet">
									<mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column">
										{{ 'PAGES.SUBVENTION.NAME' | translate }}
									</mat-header-cell>
									<mat-cell *matCellDef="let row" class="mat-column"> {{row.responsableProjet}}
									</mat-cell>
								</ng-container>
								<!-- commune Column -->
								<ng-container matColumnDef="statutProjet">
									<mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column">
										{{ 'PAGES.SUBVENTION.STATUT_PROJECT' | translate }}
									</mat-header-cell>
									<mat-cell *matCellDef="let row" class="mat-column">
								
										<span *ngIf="row.statutProjet==1">{{ 'PAGES.SUBVENTION.EXUCUTE' | translate }}</span>
										<span *ngIf="row.statutProjet==2"> {{ 'PAGES.SUBVENTION.EnCOURSEXUCUTE' | translate }} </span>
										<span *ngIf="row.statutProjet==3">{{ 'PAGES.SUBVENTION.NONEXUCUTE' | translate }} </span>
									</mat-cell>
								</ng-container>
							
								<mat-header-row *matHeaderRowDef="displayedColumnsProjet"></mat-header-row>
								<mat-row *matRowDef="let row; columns: displayedColumnsProjet;"></mat-row>
							</mat-table>
							<div *ngIf="sizeData == 0 && isLoading == false"
								style="display: flex;justify-content: center;padding: 2%;color: orangered;">
								{{ 'PAGES.GENERAL.NO_RECORDS' | translate }}
							</div>
							<mat-card *ngIf="isLoading"
								style="display: flex; justify-content: center; align-items: center">
								<mat-progress-spinner color="primary" mode="indeterminate" diameter="50">
								</mat-progress-spinner>
							</mat-card>
							<mat-paginator [length]="sizeData" [pageSize]="5" [pageIndex]="0"
								[pageSizeOptions]="[5,10,20]" showFirstLastButtons></mat-paginator>
							<hr>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
</div>