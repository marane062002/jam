<div class="kt-portlet">
    <div class="row">
            <h4 class="modal-title" id="exampleModalCenterTitle">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TITLE" | translate }}<button mat-icon-button color="primary" (click)="Recu()">
                    <i class="fas fa-download"></i>
                </button></h4>

            <button mat-icon-button (click)="close()">
                <h4>Ã—</h4>
            </button>
    </div>

    <table *ngIf="isAllTrue==true" id="exportData" mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort
        style="width: 100%;">
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.total}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="sousType">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.sousType}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="referenceProduit">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.referenceProduit}}</span>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsALL"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsALL;"></tr>
    </table>
    <table *ngIf="isNotTotal==true" id="exportData" mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort
        style="width: 100%;">
        <ng-container matColumnDef="sousType">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.sousType}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="referenceProduit">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.referenceProduit}}</span>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
    </table>
    <table *ngIf="isNotSousType==true" id="exportData" mat-table [dataSource]="dataSource" class="mat-elevation-z8"
        matSort style="width: 100%;">
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.total}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="referenceProduit">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.referenceProduit}}</span>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
    </table>
    <table *ngIf="isNotRefProd==true" id="exportData" mat-table [dataSource]="dataSource" class="mat-elevation-z8"
        matSort style="width: 100%;">
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.total}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="sousType">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.sousType}}</span>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>
    </table>
    <table *ngIf="isNotTotalAndIsNotSousType==true" id="exportData" mat-table [dataSource]="dataSource"
        class="mat-elevation-z8" matSort style="width: 100%;">
        <ng-container matColumnDef="referenceProduit">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.referenceProduit}}</span>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns4"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns4;"></tr>
    </table>
    <table *ngIf="isNotTotalAndIsNotRefProd==true" id="exportData" mat-table [dataSource]="dataSource"
        class="mat-elevation-z8" matSort style="width: 100%;">
        <ng-container matColumnDef="sousType">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.sousType}}</span>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns5"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns5;"></tr>
    </table>
    <table *ngIf="isNotRefProdAndIsNotSousType==true" id="exportData" mat-table [dataSource]="dataSource"
        class="mat-elevation-z8" matSort style="width: 100%;">
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}
            </th>
            <td mat-cell *matCellDef="let row">
                <span>{{row.total}}</span>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns6"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns6;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5,10,20,50]" [showFirstLastButtons]="true"></mat-paginator>

</div>

<div style="overflow: hidden; height: 0">
    <div id="htmlData">
        <div class="toprint">
            <div class="row" style="width: 80%;margin: 20px auto;text-align: center;">
                <div class="col-md-3">
                    <img  alt="logo" src="./assets/media/logos/logo_comM.png">
                </div>
                <div class="col-md-6"></div>
                <div class="col-md-3">
                    <img alt="logo" src="./assets/media/logos/logo_cum.png">
                </div>
            </div><br>
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <h2 class="kt-portlet__head-title"
                        style="width: 80%;margin: 20px auto;text-align: center;">
                        <strong>{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TITLE" | translate }}</strong>
                    </h2>
                </div>
                <div class="col-md-3"></div>
            </div><br>
            <div class="row">
                <table class="table" style="width: 60%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="border: none;">{{ "PAGES.STATISTIQUES.NUM_CARREAU" | translate }}</th>
                        <th style="border: none; font-size: 14px ;">{{toPrint?.idHangar}}
                        </th>
                        <th style="border: none;">{{ "PAGES.STATISTIQUES.DATE_HEURE" | translate }}</th>
                        <th style="border: none; font-size: 14px ;">{{toPrint?.currentTime | date:"dd-MM-yyyy HH:mm"}}</th>
                    </tr>
                </table>
            </div><br><br>
            <div class="row">
                <table
                    style="background-color: #499996;width: 60%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th>{{ "PAGES.QUANTITE_MARCHANDISE_TYPE.DATE_DEBUT" | translate }} :</th><th>{{toPrint?.dateDebut |
                            date:"dd-MM-yyyy"}}
                        </th>
                        <th>{{ "PAGES.QUANTITE_MARCHANDISE_TYPE.DATE_FIN" | translate }} :</th><th>{{toPrint?.dateFin | date:"dd-MM-yyyy"}}
                        </th>
                    </tr>
                </table>
            </div><br><br><br>
            <div class="row">
                <table *ngIf="isAllTrue==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}</th>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}</th>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.total}}</td>
                        <td>{{item.sousType}}</td>
                        <td>{{item.referenceProduit}}</td>
                    </tr>
                </table>
                <table *ngIf="isNotTotal==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}</th>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.sousType}}</td>
                        <td>{{item.referenceProduit}}</td>
                    </tr>
                </table>
                <table *ngIf="isNotRefProd==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}</th>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.total}}</td>
                        <td>{{item.sousType}}</td>
                    </tr>
                </table>
                <table *ngIf="isNotSousType==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}</th>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.total}}</td>
                        <td>{{item.referenceProduit}}</td>
                    </tr>
                </table>
                <table *ngIf="isNotTotalAndIsNotRefProd==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.SOUSTYPE_MARCHANDISE" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.sousType}}</td>
                    </tr>
                </table>

                <table *ngIf="isNotTotalAndIsNotSousType==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.REF_PRODUIT" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.referenceProduit}}</td>
                    </tr>
                </table>
                <table *ngIf="isNotRefProdAndIsNotSousType==true" class="table table-bordered"
                    style="width: 80%;margin: 20px auto;text-align: center;">
                    <tr>
                        <th style="background-color: #b5c5e7;">{{ "PAGES.QUANTITE_MARCHANDISE_SOUS_TYPE.TOTAL_KG" | translate }}</th>
                    </tr>
                    <tr *ngFor="let item of toPrint?.data">
                        <td>{{item.total}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>