<!-- begin:: Content -->
<div class="kt-portlet portlet-1">
	<div class="kt-portlet__head kt-bg-portlet-1">
		<div class="kt-portlet__head-label">
			<h2 class="kt-portlet__head-title kt-font-inverse-brand">
				Statistiques
			</h2>
		</div>
	</div>
	<!-- end::row-content-top -->



	<mat-card class="example-card mt-8 mb-5">
		<form [formGroup]="searchForm">
			<div class="row">
				
				<!-- <div class="col-md-4 form-group fv-plugins-icon-container">
					<mat-form-field class="example-full-width">
						<mat-label>{{ "PAGES.BUREAU_ORDRE.PERIODE_DE" | translate }} :</mat-label>
						<input readonly type="text" class="form-control form-control-solid form-control-lg"
							formControlName="periodeDe" matInput />
					</mat-form-field>
				</div> -->
				<!-- ORIGINE -->
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date de début</mat-label>
							<input
							formControlName="dated"
								type="date"
								class="form-control-solid form-control-lg"
								name="address1"
								matInput
							/>
						</mat-form-field>
						<div class="fv-plugins-message-container"></div>
					</div>
				</div>


				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date fin</mat-label>
							<input
							formControlName="datef"
								type="date"
								class="form-control-solid form-control-lg"
								name="address1"
								matInput
							/>
						</mat-form-field>
						<div class="fv-plugins-message-container"></div>
					</div>
				</div>
			<!-- TYPE -->
			<!-- <div class="col-md-4">
				<div class="form-group">
					<mat-form-field class="example-full-width">
						<mat-select class="form-control" formControlName="type"
							placeholder="{{ 'PAGES.BUREAU_ORDRE.TYPE_COURRIER' | translate }} :">
							<mat-option *ngFor="let type of types" [value]="type.id">
								{{type.libelle}}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>
			</div> -->
			</div>
			<div class="row">
				<div class="col-md-9"></div>

				<div class="col-md-3 form-group fv-plugins-icon-container">
					<div class="kt-portlet__head-label text-center">
						<button (click)="filterDecesData()" _ngcontent-dkp-c41=""
							class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
							{{'PAGES.PROGRAMME.STATISTIQUE.APPLIQUER'| translate}} </button>
						<button (click)="reset()" _ngcontent-dkp-c41=""
							class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
							{{'PAGES.PROGRAMME.STATISTIQUE.REINITIALISER'| translate}} </button>
					</div>
				</div>
			</div>
		</form>
	</mat-card>


	<div class="kt-portlet__head kt-bg-portlet-1">
		<div class="kt-portlet__head-label">
			<h2 class="kt-portlet__head-title kt-font-inverse-brand">
				Décès constatés à domicile et enregistrés au BCH
			</h2>
		</div>
		<div class="kt-portlet__head-toolbar">
			<div class="kt-portlet__head-wrapper">
				<div class="kt-portlet__head-actions">
					<button (click)="exportToExcel()" matTooltip="Télécharger" href="javascript:; " class="btn btn-success">
						<i class="la la-download"></i> 
					</button>
				</div>
			</div>
		</div>
	</div>
<mat-card class="example-card mt-8 mb-5">
	
	<div class="row">
	
	<div class="col-md-6">
	<table #excelTableDom id="exportData">
		<thead>
			<tr>
				<th>Nombre de décès <br> constatés à  domicile</th>
				<th *ngFor="let sexe of sexes">{{ sexe }}</th>
				<th>Total</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let arrondissement of arrondissement">
				<th>{{ arrondissement.libelle }}</th>
				<!-- <ng-container *ngFor="let sexe of sexes"> -->
					<td *ngFor="let sexe of sexes">{{ getNombreDeces(arrondissement.id, sexe).count }}</td>
				<!-- </ng-container> -->
				<td>{{ getNombreDeces(arrondissement.id).total }}</td>
			</tr>
		</tbody>
	</table>
  </div>

  <div class="col-md-6">
	<div [style.pointer-events]="filtredData.length ? 'all' : 'none'">
		<canvas id="canva2"></canvas>
	</div>
  </div>

	</div>
</mat-card>
<br>





<!-- {
    "denomination": null,
    "natureEtablissement": "Alimentaires",
    "remarque": "Test ramadan 2",
    "mesuresPrises": "AvertissementOrale",
    "saisisDestruction": null,
    "valeurSaisieDestruction": null,
    "etatHygiene": "EHNS",
    "controleEffectue": true,
    "tel": "0620203698",
    "adresse": "menara mall",
    "personne": "MORALE",
    "proprGerant": "GERANT",
    "nomProp": null,
    "prenomProp": null,
    "cinPro": null,
    "nomGerant": null,
    "prenomGerant": null,
    "cinGerant": null,
    "rc": "69",
    "typeControleSanitaire": {
        "id": 3,
        "libelle": "dfgdfg",
        "description": "dfgdfg"
    },
    "commune": {
        "id": 6,
        "libelle": "Marrakech",
        "description": "kech"
    },
    "arrondissement": {
        "id": 8,
        "libelle": "Menara",
        "description": "dfdfdfd"
    },
    "quartier": {
        "id": 4,
        "libelle": "fghgh",
        "description": "fghgfh"
    },
    "controleur": {
        "id": 4,
        "nom": "rrrrrrrrrrrrrrrr",
        "prenom": "Error officia necess",
        "cin": "Corrupti illum num",
        "tel": "Ea esse consequatur"
    },
    "date": 1710288000000,
    "id": 432
} -->



<!-- {
    "denomination": null,
    "natureEtablissement": "Touristiques",
    "remarque": "727 Cowley Avenue",
    "mesuresPrises": "AvertissementOrale",
    "saisisDestruction": null,
    "valeurSaisieDestruction": null,
    "etatHygiene": "EHNS",
    "controleEffectue": true,
    "tel": "900 West Hague Road",
    "adresse": "366 North Green Cowley Lane",
    "personne": null,
    "proprGerant": "Proprietaire",
    "nomProp": "402 Hague Freeway",
    "prenomProp": "402 Hague Freeway",
    "cinPro": "756 First Drive",
    "nomGerant": null,
    "prenomGerant": null,
    "cinGerant": null,
    "rc": null,
    "typeControleSanitaire": {
        "id": 3,
        "libelle": "dfgdfg",
        "description": "dfgdfg"
    },
    "commune": {
        "id": 3,
        "libelle": "fhfgh",
        "description": "fghh"
    },
    "arrondissement": {
        "id": 5,
        "libelle": "hfghfg",
        "description": "fhfghf"
    },
    "quartier": {
        "id": 3,
        "libelle": "fghfgh",
        "description": "fghfgh"
    },
    "controleur": {
        "id": 4,
        "nom": "rrrrrrrrrrrrrrrr",
        "prenom": "Error officia necess",
        "cin": "Corrupti illum num",
        "tel": "Ea esse consequatur"
    },
    "date": 1710201600000,
    "id": 431
} -->


<div class="kt-portlet__head kt-bg-portlet-1">
		<div class="kt-portlet__head-label">
			<h2 class="kt-portlet__head-title kt-font-inverse-brand">
				Décès survenus aux hopitaux et aux cliniques et enregistrés au BCH
			</h2>
		</div>
		<div class="kt-portlet__head-toolbar">
			<div class="kt-portlet__head-wrapper">
				<div class="kt-portlet__head-actions">
					<button (click)="exportToExcelSurvenu()" matTooltip="Télécharger" href="javascript:; " class="btn btn-success">
						<i class="la la-download"></i> 
					</button>
				</div>
			</div>
		</div>
	</div>
<mat-card class="example-card mt-8 mb-5">
	
<div class="row">
	<div class="col-md-6">
	<table #excelTable id="exportDataSurvenus">
	<thead>
	  <tr>
		<th >Catégorie</th>
		<th *ngFor="let constaterItem of constater" >{{ constaterItem }}</th>
		<th>Total</th>
	  </tr>
	</thead>
	<tbody>
	  <tr *ngFor="let sexe of sexesContater">
		<th>{{ sexe }}</th>
		
		<td *ngFor="let constaterItem of constater">
		  {{ getDeathCount(sexe, constaterItem) }}
		</td>
		<td>{{ getTotalCount(sexe) }}</td>
	  </tr>
	</tbody>
  </table>
</div>

<div class="col-md-6">
	<div [style.pointer-events]="filtred2Data.length ? 'all' : 'none'">
		<canvas id="canva"></canvas>
	</div>
</div>

</div>
</mat-card>
  
	  
</div>




  



