<div novalidate autocomplete="off">
	<div class="kt-portlet portlet-3">
		<div class="kt-portlet__head kt-bg-portlet-3">
			<div class="kt-portlet__head-label">
				<h2 class="kt-portlet__head-title kt-font-inverse-brand">Ajouter Carte sanitaire:</h2>
			</div>
		</div>
	</div>

	<mat-horizontal-stepper #stepper>
		<mat-step label="Employeur">
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Raison social:</mat-label>
							<input [(ngModel)]="rs" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>IF:</mat-label>
							<input [(ngModel)]="ifiscal" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<!-- <div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>RC:</mat-label>
							<input
								type="text"
								class="form-control-solid form-control-lg"
								name="address1"
								matInput
							/>
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Ville:</mat-label>
							<mat-select matNativeControl class="form-control">
								<mat-option value="">Salé</mat-option>
								<mat-option value="">Rabat</mat-option>
								<mat-option value="">Casablanca</mat-option>
								<mat-option value="">Marrakech</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
				</div>
			</div> -->
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Nombre d'employés:</mat-label>
							<input [(ngModel)]="nbremploye" type="number" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>ICE:</mat-label>
							<input [(ngModel)]="ice" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Tél:</mat-label>
							<input [(ngModel)]="tel" type="tel" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Fax:</mat-label>
							<input [(ngModel)]="fax" type="tel" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group">
						<div class="input-group date">
							<mat-form-field class="example-full-width">
								<mat-label> Taxe professionnelle: </mat-label>
								<input [(ngModel)]="taxe" matInput type="text" class="form-control-lg" placeholder="" />
							</mat-form-field>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Numéro d'autorisation:</mat-label>
							<input [(ngModel)]="numauto" type="number" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Email:</mat-label>
							<input [(ngModel)]="email" type="email" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Adresse:</mat-label>
							<input [(ngModel)]="adresse" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="pb-5" data-wizard-type="step-content">
				<h4 class="mb-10 font-weight-bold text-dark"></h4>
				<div class="kt-portlet">
					<div class="kt-portlet__head kt-bg-portlet-5">
						<div class="kt-portlet__head-label">
							<span class="kt-portlet__head-icon">
								<i class="flaticon-attachment"></i>
							</span>
							&nbsp;
							<h3 class="kt-portlet__head-title">Pièce Jointe:</h3>
						</div>
					</div>
					<div class="kt-portlet__body">
						<div class="row">
							<div class="col-md-6 show_port input-group">
								<form enctype="multipart/form-data" method="POST" style="display: -webkit-inline-box; margin-inline-start: 98px">
									<label class="input-group-btn">
										<span class="btn btn-info">
											Sélectionner un fichier
											<input (change)="handleFileInput($event)" type="file" name="file" formControlName="_file" id="customFile" style="display: none" multiple />
										</span>
									</label>
									<input type="text" class="form-control" readonly />
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="kt-portlet__heads">
				<div class="kt-portlet__head-label text-right">
					<button href="javascript:; " _ngcontent-dkp-c41="" class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" (click)="RetourEmbalages()">
						<i _ngcontent-dkp-c41="" class="la la-recycle"></i>
						Retour
					</button>
					<button _ngcontent-dkp-c41="" class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u active" matStepperNext>
						<i _ngcontent-dlp-c41 class="icon la la-plus-circle"></i>
						Suivant
					</button>
				</div>
			</div>
			<div class="espace_bloc"></div>
		</mat-step>

		<mat-step label="Employé">
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Nom:</mat-label>
							<input [(ngModel)]="nom" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Prénom:</mat-label>
							<input [(ngModel)]="prenom" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>C.I.N:</mat-label>
							<input [(ngModel)]="cin" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Sexe:</mat-label>
							<mat-select [formControl]="sexeControl" class="form-control">
								<mat-option value="Homme"> Homme </mat-option>
								<mat-option value="Femme"> Femme </mat-option>
							</mat-select>
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>N° CNSS:</mat-label>
							<input [(ngModel)]="numcnss" type="number" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date de naissance:</mat-label>
							<input [(ngModel)]="datenaissance" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Tél:</mat-label>
							<input [(ngModel)]="telemploye" type="tel" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>

				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Durée de validité de la carte:</mat-label>
							<input [(ngModel)]="duree" type="number" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Email:</mat-label>
							<input [(ngModel)]="emailemploye" type="email" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Fonction:</mat-label>
							<input [(ngModel)]="fonctionemploye" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date de recrutement:</mat-label>
							<input [(ngModel)]="daterecrutement" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date demande de la carte:</mat-label>
							<input [(ngModel)]="datedemandecarte" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date du prochain contrôle:</mat-label>
							<input [(ngModel)]="dateprocontrol" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<div class="input-group date">
							<mat-form-field class="example-full-width">
								<label> Statut de la demande de la carte: </label>
								<mat-select [formControl]="statutControl" matNativeControl class="form-control">
									<mat-option value="En cours de traitement">En cours de traitement</mat-option>
									<mat-option value="Expirée">Expirée</mat-option>
									<mat-option value="Valide">Valide</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<label>Type d'analyse demandé: </label>
							<mat-select [formControl]="typeControl" class="form-control" >
								<mat-option value="type1"> Type1 </mat-option>
								<mat-option value="type2"> Type2 </mat-option>
							</mat-select>
						</mat-form-field>
						<div class="fv-plugins-message-container"></div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<label>Décision: </label>
							<mat-select [formControl]="decisionControl" class="form-control">
								<mat-option value="Accepté"> Décision1 </mat-option>
								<mat-option value="Refusé"> Décision2 </mat-option>
							</mat-select>
						</mat-form-field>
						<div class="fv-plugins-message-container"></div>
					</div>
				</div>
				<!-- <div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Résultat de l'analyse:</mat-label>
							<input type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div> -->
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date de résultat:</mat-label>
							<input [(ngModel)]="dateresultat" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date de la quittance:</mat-label>
							<input [(ngModel)]="datequittance" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-6">
					<div class="form-group">
						<div class="input-group date">
							<mat-form-field class="example-full-width">
								<label> N° quittance: </label>
								<input [(ngModel)]="numquitance"  type="number" name="address1" class="form-control" placeholder="" matInput/>
								<!-- input [(ngModel)]="duree" type="number" class="form-control-solid form-control-lg"  matInput -->
							</mat-form-field>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Date de la délivrance de la carte:</mat-label>
							<input [(ngModel)]="datedelivrance" type="date" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<div class="form-group fv-plugins-icon-container">
						<mat-form-field class="example-full-width">
							<mat-label>Addresse:</mat-label>
							<input [(ngModel)]="adresseemploye" type="text" class="form-control-solid form-control-lg" name="address1" matInput />
						</mat-form-field>
						<div class="fv-plugins-message-container"></div>

						<div class="fv-plugins-message-container"></div>
					</div>
				</div>
			</div>
			<div class="pb-5" data-wizard-type="step-content">
				<div class="kt-portlet">
					<div class="kt-portlet__head kt-bg-portlet-5">
						<div class="kt-portlet__head-label">
							<span class="kt-portlet__head-icon">
								<i class="flaticon-attachment"></i>
							</span>
							&nbsp;
							<h3 class="kt-portlet__head-title">Photos:</h3>
						</div>
					</div>
					<div class="kt-portlet__body">
						<div class="row">
							<div class="col-md-6 show_port input-group">
								<form enctype="multipart/form-data" method="POST" style="display: -webkit-inline-box; margin-inline-start: 98px">
									<label class="input-group-btn">
										<span class="btn btn-info">
											Sélectionner un fichier
											<input (change)="handleImgInput($event)" type="file" name="file" formControlName="_file" id="customFile" style="display: none" multiple />
										</span>
									</label>
									<input type="text" class="form-control" readonly />
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="pb-5" data-wizard-type="step-content">
				<div class="kt-portlet">
					<div class="kt-portlet__head kt-bg-portlet-5">
						<div class="kt-portlet__head-label">
							<span class="kt-portlet__head-icon">
								<i class="flaticon-attachment"></i>
							</span>
							&nbsp;
							<h3 class="kt-portlet__head-title">Pièce Jointe:</h3>
						</div>
					</div>
					<div class="kt-portlet__body">
						<div class="row">
							<div class="col-md-6 show_port input-group">
								<form enctype="multipart/form-data" method="POST" style="display: -webkit-inline-box; margin-inline-start: 98px">
									<label class="input-group-btn">
										<span class="btn btn-info">
											Sélectionner un fichier
											<input (change)="handlePieceJointe($event)" type="file" name="file" formControlName="_file" id="customFile" style="display: none" multiple />
										</span>
									</label>
									<input type="text" class="form-control" readonly />
								</form>
							</div>
						</div>
					</div>
					<div class="kt-portlet__heads">
						<div class="kt-portlet__head-label text-right">
							<button href="javascript:; " matStepperPrevious _ngcontent-dkp-c41="" class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
								<i _ngcontent-dkp-c41="" class="la la-recycle"></i>
								Retour
							</button>
							<button (click)="createCarte()" _ngcontent-dkp-c41="" class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
								<i _ngcontent-dlp-c41 class="icon la la-floppy-o"></i>
								ENREGISTRER
							</button>
						</div>
					</div>
				</div>
			</div>

			<div class="espace_bloc"></div>
		</mat-step>
	</mat-horizontal-stepper>
</div>












